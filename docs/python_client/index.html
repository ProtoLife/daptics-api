<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Python API Client - Daptics Python Client</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Python API Client";
    var mkdocs_page_input_path = "python_client.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Daptics Python Client</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../graphql_api/">GraphQL API</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Python API Client</a>
    <ul class="subnav">
            
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Daptics Python Client</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Python API Client</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="daptics_client">daptics_client</h1>

<p>DapticsClient - A Python client for the Daptics GraphQL API.</p>
<p>See comments and docstrings for the DapticsClient class in the code below
for suggestions for using this class. For additional help or information,
please visit or contact Daptics.</p>
<p>On the web at https://daptics.ai
By email at support@daptics.ai</p>
<p>Daptics API Version 0.9.1
Copyright (c) 2019 Daptics Inc.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), the
rights to use, copy, modify, merge, publish, and/or distribute, copies of
the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:</p>
<p>You do not have the right to sub-license or sell copies of the Software.</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
IN THE SOFTWARE.</p>
<h2 id="daptics_client.DapticsClient">DapticsClient</h2>

<pre><code class="python">DapticsClient(self, host=None, config=None)
</code></pre>

<p>A Python gql client for maintaining the state of a Daptics optimization session.
Between API invocations, data such as the user id, access token, session id,
last generated design, etc. are retained in the object's attributes.</p>
<p><strong>Attributes</strong></p>
<ul>
<li>
<p><code>host (str)</code>:
    The host part of the API endpoint, as read from configuration, or set manually
    prior to calling <code>connect</code>.</p>
</li>
<li>
<p><code>config (str)</code>:
    File path to a JSON configuration file, used to read the host, login credentials and</p>
</li>
<li>
<p><code>runtime options. Defaults to</code>daptics.conf<code>. The keys in the JSON file are</code>:</p>
<p><code>host</code> - host part of the API endpoint</p>
<p><code>user</code> - email of the database user to login with</p>
<p><code>password</code> - password for the database user to login with</p>
<p><code>auto_export_path</code> - see <code>options</code> below</p>
<p><code>auto_generate_next_design</code> - see <code>options</code> below</p>
<p><code>auto_task_timeout</code> - see <code>options</code> below</p>
<p>If <code>config is set to None, configuration can be read from OS environment
-</code>variables, if they exist. The environment variable names are`:</p>
<p><code>DAPTICS_HOST</code> - host part of the API endpoint</p>
<p><code>DAPTICS_USER</code> - email of the database user to login with</p>
<p><code>DAPTICS_PASSWORD</code> - password for the database user to login with</p>
<p><code>DAPTICS_AUTO_EXPORT_PATH</code> - see <code>options</code> below</p>
<p><code>DAPTICS_AUTO_GENERATE_NEXT_DESIGN</code> - see <code>options</code> below</p>
<p><code>DAPTICS_AUTO_TASK_TIMEOUT</code> - see <code>options</code> below</p>
</li>
<li>
<p><code>options (dict)</code>:
    A Python dictionary containing runtime options. As of this version, there</p>
</li>
<li>
<p><code>are three available options</code>:</p>
<p>'auto_export_path<code>- If not None, a string indicating the relative or absolute directory
where the validated experimental space and generated design files will be saved,
so that the user will not have to explicitly call the</code>export` functions.</p>
<p><code>auto_generate_next_design</code> - If set (True), uploading (initial or later) experiment responses
will automatically start a <code>generate</code> task for the next design generation. If not set
(None or False), the uploading will only validate the responses, and the user
will have to call the <code>generate</code> task manually after a successful validation.</p>
<p><code>auto_task_timeout</code> - If set to a positive number indicating the
number of seconds to wait, this option will immediately start to wait on a
just-created task, so that the user will not have to explicitly call
<code>poll_for_current_task</code> or <code>wait_for_current_task</code>. Setting this option to a negative
number, means to wait indefinitely. Setting the option to zero will poll the task
just once. The default, None, means that the user wants to explicitly call
<code>poll_for_current_task</code> or <code>wait_for_current_task</code>.</p>
</li>
<li>
<p><code>credentials</code>:
    A tuple of (<code>username</code>, <code>password</code>), as read from configuration, or set manually
    prior to calling <code>login</code>.</p>
</li>
<li>
<p><code>api_url (str)</code>:
    The full API endpoint URL.</p>
</li>
<li>
<p><code>pp (pprint.PrettyPrinter)</code>:
    Used for printing dict output.</p>
</li>
<li>
<p><code>gql (gql.Client)</code>:
    The gql.Client object used to make GraphQL requests to the API.</p>
</li>
<li>
<p><code>auth (TokenAuth)</code>:
    Used to insert the required authorization header in API requests. The
    auth object's <code>token</code> attribute is set by the <code>login</code> method.</p>
</li>
<li>
<p><code>user_id (str)</code>:
    The user id for the authenticated user, set by the <code>login</code> method.</p>
</li>
<li>
<p><code>session_id (str)</code>:
    The session id for a connected PDT session, as set by the <code>create_session</code> method.</p>
</li>
<li>
<p><code>session_path (str)</code>:
    The path on the filesystem where the session is located, as set by the
    <code>create_session</code> method.</p>
</li>
<li>
<p><code>task_info (dict)</code>:
    Information about the polling status for running tasks in the session.</p>
</li>
<li>
<p><code>gen (int)</code>:
    The design "generation number" for the session. This is -1 for a new session,
    0 when the session's experimental space has been validated, and greater than
    zero when a design has been generated by the system.</p>
</li>
<li>
<p><code>remaining (int)</code>:
    If not None, the number of possible generations that can be generated until
    the entire design space has been explored.</p>
</li>
<li>
<p><code>completed (boolean)</code>:
    A flag indicating whether the design space has been completely explored.</p>
</li>
<li>
<p><code>initial_params (dict)</code>:
    The experimental space and other information as initially returned by the
    <code>create_session</code> method.</p>
</li>
<li>
<p><code>space (dict)</code>:
    The experimental space as updated by the result of the "save experimental space" task.</p>
</li>
<li>
<p><code>design (dict)</code>:
    The current generated design, as updated by the result of a "generate design" task.</p>
</li>
<li>
<p><code>experiments_history (list)</code>:
    All the experiments and responses that have been simulated, as updated by the result
    of a "simulate" task, represented as a list of Python dicts.</p>
</li>
</ul>
<h3 id="daptics_client.DapticsClient.print">print</h3>

<pre><code class="python">DapticsClient.print(self)
</code></pre>

<p>Print out debugging information about the session.</p>
<h3 id="daptics_client.DapticsClient.call_api">call_api</h3>

<pre><code class="python">DapticsClient.call_api(self, document, vars, timeout=None)
</code></pre>

<p>Perform validation on the gql query or mutation document and then
execute the query. We cannot call <code>self.gql.execute</code> directly, because it converts
'errors' returned into an Exception. We want to preserve the 'errors'
if they exist, and also return the data.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>fname (str)</strong>:
    The file path to save the client state to.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>(dict, dict)</code>:
<code>A tuple containing two</code>dicts<code>`: The first element is the</code>data<code>component
    of the GraphQL response, a Python dict with</code>currentTask<code>, and the second
    element is the</code>errors<code>component of the GraphQL response. Either</code>data<code>or</code>errors` may be None.</p>
<h3 id="daptics_client.DapticsClient.error_messages">error_messages</h3>

<pre><code class="python">DapticsClient.error_messages(self, errors)
</code></pre>

<p>Extract the <code>message</code> values from the errors list returned in a GraphQL response.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>errors (list)</strong>:
    The list of GraphQL errors. Each error must have a <code>message</code> value, and
    can optionally have <code>key</code>, <code>path</code> and <code>locations</code> values.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>str or list</code>:
    The message (or messages) extracted from the GraphQL response.</p>
<h3 id="daptics_client.DapticsClient.save">save</h3>

<pre><code class="python">DapticsClient.save(self, fname)
</code></pre>

<p>Save the user and session id to a JSON file.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>fname (str)</strong>:
    The file path to save the client state to.</li>
</ul>
<p><strong>Returns</strong></p>
<p>Nothing</p>
<h3 id="daptics_client.DapticsClient.load">load</h3>

<pre><code class="python">DapticsClient.load(self, fname)
</code></pre>

<p>Restore a previously saved client from a JSON file.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>fname (str)</strong>:
    The file path to restore the client state from.</li>
</ul>
<p><strong>Returns</strong></p>
<p>Nothing</p>
<h3 id="daptics_client.DapticsClient.init_config">init_config</h3>

<pre><code class="python">DapticsClient.init_config(self)
</code></pre>

<p>Read in the client configuration from possible sources.</p>
<p><strong>Returns</strong></p>
<p>Nothing</p>
<p><strong>Raises</strong></p>
<ul>
<li>
<p><code>MissingConfigError</code>:
    If the config file specified does not exist.</p>
</li>
<li>
<p><code>InvalidConfigError</code>:
    If the config file specified cannot be parsed, or does not have a 'host'
    value.</p>
</li>
</ul>
<h3 id="daptics_client.DapticsClient.connect">connect</h3>

<pre><code class="python">DapticsClient.connect(self)
</code></pre>

<p>Read in the configuration and instantiate the client if it has not
been done before. Creates an HTTP transport instance from the client's
<code>api_url</code> attribute, and attempts to connect to the introspection interface.
The gql.Client value is stored in the client's <code>gql</code> attribute.</p>
<p><strong>Returns</strong></p>
<p>Nothing</p>
<p><strong>Raises</strong></p>
<ul>
<li>
<p><code>MissingConfigError</code>:
    If the config file specified does not exist.</p>
</li>
<li>
<p><code>InvalidConfigError</code>:
    If the config file specified cannot be parsed, or does not have a 'host'
    value.</p>
</li>
<li>
<p><code>NoHostError</code>:
    If there is no config file specifed and no host has been set.</p>
</li>
<li>
<p><code>requests.ConnectionError</code>:
    If the connection cannot be made.</p>
</li>
</ul>
<h3 id="daptics_client.DapticsClient.login">login</h3>

<pre><code class="python">DapticsClient.login(self, email=None, password=None)
</code></pre>

<p>Authenticate to a user record in the database as identified in the client's
<code>email</code> and <code>password</code> attributes, and create an access token.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>email (str)</strong>:
    The email adddress of the database user that will be used for authentication.</li>
<li><strong>password (str)</strong>:
    The cleartext password of the database user that will be used for authentication.</li>
</ul>
<p>If called with default (<code>None</code>) arguments, the email and password will
be retrieved from the <code>credentials</code> attribute.</p>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>login</code> and/or
    <code>errors</code> keys. On successful authentication, the user id and access token
    are stored in the client's <code>user_id</code> and <code>auth</code> attributes.</p>
<h3 id="daptics_client.DapticsClient.create_session">create_session</h3>

<pre><code class="python">DapticsClient.create_session(self, name, description)
</code></pre>

<p>Create a new PDT session.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>name (str)</strong>:
    The unique name for the session among the authenticated user's sessions.</li>
<li><strong>description (str)</strong>:
    A description for the session.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>createSession</code> and/or
    <code>errors</code> keys. On successful creation, the session id, session_path and
    initial parameters are stored in the client's attributes.</p>
<h3 id="daptics_client.DapticsClient.list_sessions">list_sessions</h3>

<pre><code class="python">DapticsClient.list_sessions(self, user_id=None, name=None)
</code></pre>

<p>Show a list of the user's sessions.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>user_id (str)</strong>:
    (optional) Limit the results to the user with this id. Omitting this argument
    is normal for regular users.</li>
<li><strong>name (str)</strong>:
    (optional) Limit the results to any session whose name, description,
    <code>tag</code> or id contains this string.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>sessions</code> and/or
<code>errors</code> keys.</p>
<h3 id="daptics_client.DapticsClient.reconnect_session">reconnect_session</h3>

<pre><code class="python">DapticsClient.reconnect_session(self, session_id)
</code></pre>

<p>Find an existing session.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>session_id (str)</strong>:
    The session id to find.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>session</code> and/or
    <code>errors</code> keys.</p>
<h3 id="daptics_client.DapticsClient.halt_session">halt_session</h3>

<pre><code class="python">DapticsClient.halt_session(self, session_id)
</code></pre>

<p>Close an connected session, to release all resources.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>session_id (str)</strong>:
    The session id to close.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>haltSession</code> and/or
    <code>errors</code> keys. If the call is successful, the 'haltSession' value contains
<code>these keys</code>:</p>
<p><code>action (str)</code>:
    The action taken, either 'close' (if the session was connected) or 'none' if
    had already been closed.</p>
<p><code>status (str)</code>:
    The session status, which should always be 'closed',</p>
<h3 id="daptics_client.DapticsClient.put_experimental_parameters">put_experimental_parameters</h3>

<pre><code class="python">DapticsClient.put_experimental_parameters(self, params)
</code></pre>

<p>Validate the experimental parameters at the beginning of a session,
and start a "space" task. The individual experimental parameter names,
types and permissible values in the space definition are specified at
the <code>['space']['table']</code> key of the <code>params</code> dict.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>params (dict)</strong>:
    A dictionary containing the experimental parameters to be
    used for the session. See the Notes section that describes the
    required keys for the <code>params</code> dict.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>putExperimentalParameters</code> and/or
    <code>errors</code> keys.</p>
<p>If the task was successfully started, the task information is stored in the client's
<code>task_info</code> attribute. Also, if the <code>auto_task_timeout</code> option was set to a
positive or negative number,  the task will be retried until a result is obtained
or the task failed, or the timeout is exceeded.</p>
<p><strong>Notes</strong></p>
<p>These are the required keys for the <code>params</code> dict:</p>
<p>populationSize (int):
    The number of experiments per replicate. A positive integer.</p>
<p>replicates (int):
    The number of replicates. A non-negative integer. The total number of
    experiments per design generation is <code>populationSize * (replicates + 1)</code>.</p>
<p>space (dict):
    The experimental space definition. Required keys for the <code>space</code> dict are:</p>
<p>type (str):
    The type of the space, a string, either "factorial" or "mixture".</p>
<p>totalUnits (int):
    For <code>mixture</code> type spaces, this is the mixture constraint parameter,
    a non-negative integer.</p>
<p>table (dict):
    The (optional) column headers and rows of parameter data.  See
    an example below. the <code>colHeaders</code> value is ignored when importing
    or validating the experimental space definition.</p>
<p>To maintain uniformity, header and data row elements should be
Python strings, even if they represent numeric values.</p>
<p>For <code>mixture</code> type spaces, there should only be 4 columns of data
in each row: the name of the parameter, the type of the parameter
(which must always be the string "unit"), the minimum value of the
parameter (a non-negative integer) and the maximum value of the
parameter (a positive integer, less than or equal to the <code>totalUnits</code>
constraint parameter).</p>
<p>For <code>factorial</code> type spaces, there must be at least 4 columns of data
in each row: the name of the parameter, the type of the parameter
(a string, either "numerical" or "categorical"), and at least
two possible distinct values that the parameter can have in an experiment.
Different parameters can have either 2 or more than 2 possible values.
The rows must be all be of the same size, so make sure to pad the
rows with fewer values with empty strings at the end.</p>
<p>In addition to the required <code>params</code> listed above, optional additional
parameters may be submitted. Please contact daptics for more information
about these advanced parameters.</p>
<p><strong>Examples</strong></p>
<p>Here is a mixture space design that will have enough combinations to be
validated by the backend.</p>
<pre><code class="python">&gt;&gt;&gt; params = {
    'populationSize': 30,
    'replicates': 2,
    'space': {
        'type': 'mixture',
        'totalUnits': 25,
        'table': {
            'colHeaders':
                [ 'Name', 'Type', 'Min', 'Max' ],
            'data': [
                [ 'param1', 'unit', '1', '10' ],
                [ 'param2', 'unit', '2', '10' ],
                [ 'param3', 'unit', '4', '8' ],
                [ 'param4', 'unit', '2', '5' ]
            ]
        }
    }
}
</code></pre>

<p>Here is a factorial space design that will have enough combinations to be
validated by the backend.</p>
<pre><code class="python">&gt;&gt;&gt; params = {
    'populationSize': 30,
    'replicates': 2,
    'space': {
        'type': 'factorial',
        'table': {
            'colHeaders':
                [ 'Name', 'Type', 'Value.1', 'Value.2', 'Value.3', 'Value.4' ],
            'data': [
                [ 'param1', 'numerical', '0', '1', '2', '3' ],
                [ 'param2', 'numerical', '2', '3',  '',  '' ],
                [ 'param3', 'numerical', '0', '1', '2',  '' ],
                [ 'param4', 'numerical', '0', '1', '2', '3' ]
            ]
        }
    }
}
</code></pre>

<h3 id="daptics_client.DapticsClient.put_experimental_parameters_csv">put_experimental_parameters_csv</h3>

<pre><code class="python">DapticsClient.put_experimental_parameters_csv(self, fname, params)
</code></pre>

<p>Validate the experimental parameters at the beginning of a session,
and start a "space" task. The individual experimental parameter names,
types and permissible values in the space definition are read from a CSV file.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>fname (str)</strong>:
    The location on the filesystem for a CSV file that will define
    the experimental space definition. See the Examples section
    below for an example.</p>
</li>
<li>
<p><strong>params (dict)</strong>:
    A dictionary containing the experimental parameters to be
    used for the session. See the Notes section for more information.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>putExperimentalParameters</code> and/or
    <code>errors</code> keys.</p>
<p>If the task was successfully started, the task information is stored in the client's
<code>task_info</code> attribute. Also, if the <code>auto_task_timeout</code> option was set to a
positive or negative number,  the task will be retried until a result is obtained
or the task failed, or the timeout is exceeded.</p>
<p><strong>Raises</strong></p>
<ul>
<li><code>csv.Error</code>:
    If the specified CSV file is incorrectly formatted.</li>
</ul>
<p><strong>Notes</strong></p>
<p>Keys for the <code>params</code> dict are:</p>
<p>populationSize (int):
    The number of experiments per replicate. A positive integer.</p>
<p>replicates (int):
    The number of replicates. A non-negative integer. The total number of
    experiments per design generation is <code>populationSize * (replicates + 1)</code>.</p>
<p>space (dict):
    The experimental space definition. The single required key for the <code>space</code> dict is:</p>
<p>type (str):
    <code>factorial</code> or <code>mixture</code></p>
<p>In addition to the required <code>params</code> listed above, optional additional
parameters may be submitted. Please contact daptics for more information
about these advanced parameters.</p>
<p><strong>Examples</strong></p>
<p>Here is a space design that will have enough combinations to be
validated by the backend.</p>
<pre><code class="python">&gt;&gt;&gt; params = {
    'populationSize': 30,
    'replicates': 2,
    'space': {
        'type': 'factorial',
    }
}
</code></pre>

<p>The contents of an example CSV file for a <code>factorial</code> space might be:</p>
<pre><code>param1,numerical,0,1,2,3
param2,numerical,2,3,4,
param3,numerical,0,1,,
param4,numerical,0,1,2,3
</code></pre>

<p>Each parameter row in a factorial space definition should have the same
number of columns.  Parameter rows with fewer than the maximum number of values
should have the empty columns at the end of the row, as shown above.</p>
<p>The contents of an example CSV file for a <code>mixture</code> space might be:</p>
<pre><code>param1,unit,0,10
param2,unit,5,10
param3,unit,0,10
param4,unit,0,5
</code></pre>

<p>Each parameter fow in a mixture space defintion must specify a minimum and
maximum unit volume, as shown above.</p>
<p>Do not supply a header row for the space definition (for any type), just the parameter
rows.</p>
<h3 id="daptics_client.DapticsClient.get_experiments">get_experiments</h3>

<pre><code class="python">DapticsClient.get_experiments(self, design_only=False, gen=None)
</code></pre>

<p>Get the designed or completed experiments for the current or any
previous generation.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>design_only (bool)</strong>:
    If gen is specified, and this argument is set to <code>True</code>, only
    return the designed experiments (without responses).</p>
</li>
<li>
<p><strong>gen (int)</strong>:
    The generation number to search for. Use 0 to specify initial
    experiments. Use None to search for the last designed generation.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>experiments</code> and/or
    <code>errors</code> keys. The value at the <code>experiments</code> key is a Python
<code>dict with these keys</code>:</p>
<p><code>validated (bool)</code>:
    True if these experiments have been validated.</p>
<p><code>hasResponses (bool)</code>:
    True if at least some of these experiments have responses.</p>
<p><code>designRows (int)</code>:
    The number of rows of experiments that were designed. Rows after the <code>designRows</code>
    are "extra" experiments.</p>
<p><code>table (dict)</code>:
    A Python dict with <code>colHeaders</code> and <code>data</code> values, representing the
    experiments submitted or designed for the generation.</p>
<h3 id="daptics_client.DapticsClient.get_experiments_history">get_experiments_history</h3>

<pre><code class="python">DapticsClient.get_experiments_history(self)
</code></pre>

<p>Get all of the experiments and any responses for all the generations in the session.</p>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>experimentsHistory</code> and/or
    <code>errors</code> keys. Also updates the client's <code>experiments_history</code> attribute.
    The <code>experimentsHistory</code> value is either None if no experiments have been submitted or
    designed, or a list. Each item in the list is either None, or a Python dict that
    represents a generation. The first item in the list is generation "zero",
    the initial experiments. If a generation is available (non None), it is a Python
<code>dict with the following keys</code>:</p>
<p><code>gen (int)</code>:
    The generation number (zero meaning initial experiments).</p>
<p><code>validated (bool)</code>:
    True if these experiments have been validated.</p>
<p><code>hasResponses (bool)</code>:
    True if at least some of these experiments have responses.</p>
<p><code>designRows (int)</code>:
    The number of rows of experiments that were designed. Rows after the <code>designRows</code>
    are "extra" experiments.</p>
<p><code>table (dict)</code>:
    A Python dict with <code>colHeaders</code> and <code>data</code> values, representing the
    experiments submitted or designed for the generation.</p>
<h3 id="daptics_client.DapticsClient.get_generated_design">get_generated_design</h3>

<pre><code class="python">DapticsClient.get_generated_design(self, gen=None)
</code></pre>

<p>Retrieves a design generation from the session.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>gen (int)</strong>:
    The generation number for the design to be retrieved.
    If None, retreive the design for the current generation.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The value of the <code>experiments</code> key from the GraphQL response,
<code>a Python dict with these keys</code>:</p>
<p><code>validated (bool)</code>:
    True if these experiments have been validated.</p>
<p><code>hasResponses (bool)</code>:
    True if at least some of these experiments have responses.</p>
<p><code>designRows (int)</code>:
    The number of rows of experiments that were designed. Rows after the <code>designRows</code>
    are "extra" experiments.</p>
<p><code>table (dict)</code>:
    A Python dict with <code>colHeaders</code> and <code>data</code> values, representing the
    experiments submitted or designed for the generation.</p>
<h3 id="daptics_client.DapticsClient.simulate_experiment_responses">simulate_experiment_responses</h3>

<pre><code class="python">DapticsClient.simulate_experiment_responses(self, experiments=None)
</code></pre>

<p>Generate values for the "Response" column.  The values are a
substitute for actual experimental results, computed with a
synthetic data generator that takes as an input each
experiment (i.e. each row of the experiments argument) and
gives as output a single number, added as a 'Response'.  The
data generator samples a complex surface, constructed to have
several peaks that are randomly placed in the space.  There is
a global optimum (highest peak), but optimization runs often
will find one of the lower peaks.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>experiments (dict)</strong>:
    A "table" of experiments that includes columns,
    defined in the <code>colHeaders</code> value of the table, for each of the defined
    space parameters, and a column named 'Response' to record the result of
    experiments.</p>
<p>Each row in the <code>data</code> value for the table represents
an individual experiment.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with
    <code>simulateExperiments</code> and/or <code>errors</code> keys.</p>
<h3 id="daptics_client.DapticsClient.simulate_experiment_responses_csv">simulate_experiment_responses_csv</h3>

<pre><code class="python">DapticsClient.simulate_experiment_responses_csv(self, fname)
</code></pre>

<p>Generate values for the "Response" column.  The values are a
substitute for actual experimental results, computed with a
synthetic data generator that takes as an input each
experiment (i.e. each row of the experiments argument) and
gives as output a single number, added as a 'Response'.  The
data generator samples a complex surface, constructed to have
several peaks that are randomly placed in the space.  There is
a global optimum (highest peak), but optimization runs often
will find one of the lower peaks.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>fname (str)</strong>:
    The location on the filesystem for a CSV file that will define
    the parameters for designed and any extra experiments.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with
    <code>simulateExperiments</code> and/or <code>errors</code> keys.</p>
<h3 id="daptics_client.DapticsClient.put_experiments">put_experiments</h3>

<pre><code class="python">DapticsClient.put_experiments(self, experiments_type, experiments)
</code></pre>

<p>Validate the responses for designed experiments, and any extra experiments
for the current generation in the session. This method, or the
<code>put_experiments_responses_csv</code> method, must be called before generating the
next design, or finalizing the campaign.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>experiments_type (DapticsExperimentsType)</strong>:
    Describes the types of experiments that are being added to the session.</p>
<p>If you wish to submit calibrating or existing experimental responses prior
to the first design generartion, use <code>INITIAL_EXTRAS_ONLY</code>.</p>
<p>If you are submitting the responses for a daptics-generated design, along
with any extra experiments, use <code>DESIGNED_WITH_OPTIONAL_EXTRAS</code>.</p>
<p>If you wish to submit any final extra experiments when you are satisified
with the session's optimization but do not want to include the last
generated experimental design use <code>FINAL_EXTRAS_ONLY</code>. Note that this
will end the session's optimization and that no more designs will be
generated.</p>
</li>
<li>
<p><strong>experiments (dict)</strong>:
    A "table" of experiments that includes columns,
    defined in the <code>colHeaders</code> value of the table, for each of the defined
    space parameters, and a column named 'Response' to record the result of
    experiments.</p>
<p>Each row in the <code>data</code> value for the table represents
an individual experiment.</p>
<p>If the <code>experiments type</code> is <code>DESIGNED_WITH_OPTIONAL_EXTRAS</code>,
you must sumbit at least as many rows as exist in the currently
generated design, and the parameter values for these rows
must match the design exactly. Additional "extra" experiment
rows, that use any valid experimental parameter values, can also
be provided.</p>
<p>For the <code>INITIAL_EXTRAS_ONLY</code> and <code>FINAL_EXTRAS_ONLY</code> experiments types,
rows that use any valid experimental parameter values can be provided.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>putExperiments</code> and/or
    <code>errors</code> keys.</p>
<p>If the experiments were successfully validated, the following actions may be
<code>automatically performed</code>:</p>
<p>If the <code>auto_export_path</code> option is set, a CSV file of the validated experiments
is saved at <code>auto_genN_experiments.csv</code>.</p>
<p>If the <code>auto_generate_next_design</code> option is set, a <code>generate</code>
task is started, and the <code>task</code> key of the <code>putExperiments</code> key will contain
information on the task.</p>
<p>If the <code>auto_generate_next_design</code> AND <code>auto_task_timeout</code> options are set,
this method will block as the task is polled until it succeeds, fails, or
the timeout value is exceeded.</p>
<p><strong>Examples</strong></p>
<p>Here's an expamle of an experiments table:</p>
<pre><code class="python">&gt;&gt;&gt; experiments = {
    'colHeaders': ['param1', 'param2', 'param3', 'param4', 'Response'],
    'data': [
        ['0', '4', '1', '1', '3.25'],
        ['1', '4', '1', '1', '4.5'],
        ... etc, matching generated design rows
    ]
}
</code></pre>

<h3 id="daptics_client.DapticsClient.put_experiments_csv">put_experiments_csv</h3>

<pre><code class="python">DapticsClient.put_experiments_csv(self, experiments_type, fname)
</code></pre>

<p>Validate the responses for designed experiments, and any extra experiments
for the current generation in the session. This method, or the
<code>put_experiments_responses</code> method, must be called before generating the
next design, or finalizing the campaign.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>experiments_type (DapticsExperimentsType)</strong>:
    Describes the types of experiments that are being added to the session.</p>
<p>If you wish to submit calibrating or existing experimental responses prior
to the first design generartion, use <code>INITIAL_EXTRAS_ONLY</code>.</p>
<p>If you are submitting the responses for a daptics-generated design, along
with any extra experiments, use <code>DESIGNED_WITH_OPTIONAL_EXTRAS</code>.</p>
<p>If you wish to submit any final extra experiments when you are satisified
with the session's optimization but do not want to include the last
generated experimental design use <code>FINAL_EXTRAS_ONLY</code>. Note that this
will end the session's optimization and that no more designs will be
generated.</p>
</li>
<li>
<p><strong>fname (str)</strong>:
    The location on the filesystem for a CSV file that will define
    the results of the designed and any extra experiments. See the Examples section
    below for an example.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>putExperiments</code> and/or
    <code>errors</code> keys.</p>
<p>If the experiments were successfully validated, the following actions may be
<code>automatically performed</code>:</p>
<p>If the <code>auto_export_path</code> option is set, a CSV file of the validated experiments
is saved at <code>auto_genN_experiments.csv</code>.</p>
<p>If the <code>auto_generate_next_design</code> option is set, a <code>generate</code>
task is started, and the <code>task</code> key of the <code>putExperiments</code> key will contain
information on the task.</p>
<p>If the <code>auto_generate_next_design</code> AND <code>auto_task_timeout</code> options are set,
this method will block as the task is polled until it succeeds, fails, or
the timeout value is exceeded.</p>
<p><strong>Examples</strong></p>
<p>A header row must be provided, the columns in the header row
must match the names of the parameters defined by the experimental space definition
exactly, and a final column named <code>Response</code> must be filled with the results
of each experiment row.</p>
<pre><code>param1,param2,param3,param4,Response
0,4,1,1,3.25
1,4,1,1,4.5
</code></pre>

<p>Each non-header row in the file represents an individual experiment. There must be at
least as many experiment rows as the current design has, and the parameter values
for these rows must match the design exactly. Additional "extra" experiment
rows can also be provided.</p>
<h3 id="daptics_client.DapticsClient.generate_design">generate_design</h3>

<pre><code class="python">DapticsClient.generate_design(self, gen=None)
</code></pre>

<p>If (initial or subsequent) experiments have been successfully validated against the
experimental parameters, a "generate design" task is started.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>gen</strong>:
    The current generation number for the experiments that have successfully validated.
    Use zero for initial experiments. Use <code>None</code> to use the <code>gen</code> attribute stored
    in the client.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>generateDesign</code> and/or
    <code>errors</code> keys.</p>
<p>If the task was successfully started, the task information is stored in the client's
<code>task_info</code> attribute. Also, if the <code>auto_task_timeout</code> option was set to None
or a positive number,  the task will be retried until a result is obtained
or the task failed.</p>
<h3 id="daptics_client.DapticsClient.start_simulation">start_simulation</h3>

<pre><code class="python">DapticsClient.start_simulation(self, ngens, params)
</code></pre>

<p>Start a simulation task for several design generations, specifying the
desired experimental parameters and the number of generations
to run.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>ngens (int)</strong>:
    The number of generations to attempt to design. Must be greater than zero.
    If the experimental space is exhausted the actual number of generations
    designed may be less than this number.</p>
</li>
<li>
<p><strong>params (dict)</strong>:
    A dictionary containing the experimental parameters to be
    used for the session. See the Notes section that describes the
    required keys for the <code>params</code> dict.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>runSimulation</code> and/or
    <code>errors</code> keys.</p>
<p>If the task was successfully started, the task information is stored in the client's
<code>task_info</code> attribute. Also, if the <code>auto_task_timeout</code> option was set to a
positive or negative number,  the task will be retried until a result is obtained
or the task failed, or the timeout is exceeded.</p>
<p><strong>Notes</strong></p>
<p>For more examples of how to submit space parameters, please
see the documentation for the <code>put_experimental_parameters</code> method.
Keys for the <code>params</code> dict are:</p>
<p>populationSize (int):
    The number of experiments per replicate. A positive integer.</p>
<p>replicates (int):
    The number of replicates. A non-negative integer. The total number of
    experiments per design generation is <code>populationSize * (replicates + 1)</code>.</p>
<p>space (dict):
    The experimental space definition. Keys for the <code>space</code> dict are:</p>
<p>type (str):
    The type of the space, a string, either "factorial" or "mixture".</p>
<p>totalUnits (int):
    For <code>mixture</code> type spaces, this is the mixture constraint parameter,
    a non-negative integer.</p>
<p>table (dict):
    The (optional) column headers and rows of parameter data.  See
    an example below. the <code>colHeaders</code> value is ignored when importing
    or validating the experimental space definition.</p>
<h3 id="daptics_client.DapticsClient.start_simulation_csv">start_simulation_csv</h3>

<pre><code class="python">DapticsClient.start_simulation_csv(self, ngens, fname, params)
</code></pre>

<p>Run a simulation for several design generations, specifying the
desired experimental parameters and the number of generations to run.
The experimental space is read from a CSV file. If the space parameters
are successfully validated a "simulate" task is started.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>ngens (int)</strong>:
    The number of generations to attempt to design. Must be greater than zero.
    If the experimental space is exhausted the actual number of generations
    designed may be less than this number.</p>
</li>
<li>
<p><strong>fname (str)</strong>:
    The location on the filesystem for a CSV file that will define
    the experimental space definition. See the Examples section
    below for an example.</p>
</li>
<li>
<p><strong>params (dict)</strong>:
    A dictionary containing the experimental parameters to be
    used for the session.  See the Notes section that describes the
    required keys for the <code>params</code> dict.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>runSimulation</code> and/or
    <code>errors</code> keys.</p>
<p>If the task was successfully started, the task information is stored in the client's
<code>task_info</code> attribute. Also, if the <code>auto_task_timeout</code> option was set to a
positive or negative number,  the task will be retried until a result is obtained
or the task failed, or the timeout is exceeded.</p>
<p><strong>Raises</strong></p>
<ul>
<li><code>csv.Error</code>:
    If the specified CSV file is incorrectly formatted.</li>
</ul>
<p><strong>Notes</strong></p>
<p>For more examples of how to submit space parameters, please
see the documentation for the <code>put_experimental_parameters</code> method.
Keys for the <code>params</code> dict are:</p>
<p>populationSize (int):
    The number of experiments per replicate. A positive integer.</p>
<p>replicates (int):
    The number of replicates. A non-negative integer. The total number of
    experiments per design generation is <code>populationSize * (replicates + 1)</code>.</p>
<p>space (dict):
    The experimental space definition. Keys for the <code>space</code> dict are:</p>
<p>type (str):
    The type of the space, a string, either "factorial" or "mixture".</p>
<p>totalUnits (int):
    For <code>mixture</code> type spaces, this is the mixture constraint parameter,
    a non-negative integer.</p>
<h3 id="daptics_client.DapticsClient.poll_for_current_task">poll_for_current_task</h3>

<pre><code class="python">DapticsClient.poll_for_current_task(self, task_type=None)
</code></pre>

<p>If there is a currently running task saved in the client, poll the
session to see if a result is ready.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>task_type (DapticsTaskType)</strong>:
    <code>SPACE</code>, <code>GENERATE</code>, or None. If None is supplied (the default), find
    the most recently started task of any type.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>(dict, dict)</code>:
<code>A tuple containing two</code>dicts<code>`: The first element is the</code>data<code>component
    of the GraphQL response, a Python dict with</code>currentTask<code>, and the second
    element is the</code>errors<code>component of the GraphQL response. Either</code>data<code>or</code>errors` may be None.</p>
<p>If the current task was a "save experimental space" task and it successfully completed,
the client's <code>gen</code> attribute is set to zero.</p>
<p>If the current task was a "generate design" task and it successfully completed,
the client's <code>gen</code> attribute is updated to a number greater than zero, and the
design is stored in the client's <code>design</code> attribute.</p>
<h3 id="daptics_client.DapticsClient.wait_for_current_task">wait_for_current_task</h3>

<pre><code class="python">DapticsClient.wait_for_current_task(self, task_type=None, timeout=None)
</code></pre>

<p>Wraps poll_for_current_task in a loop. Repeat until task disappears,
when <code>status</code> is <code>success</code> or <code>failure</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>task_type (DapticsTaskType)</strong>:
    <code>SPACE</code>, <code>GENERATE</code>, or None. If None is supplied (the default), find
    the most recently started task of any type.</p>
</li>
<li>
<p><strong>timeout (float)</strong>:
    Maximum number of seconds to wait. If None or a negative number, wait forever.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>(dict, dict)</code>:
<code>A tuple containing two</code>dicts<code>`: The first element is the</code>data<code>component
    of the GraphQL response, a Python dict with</code>currentTask<code>, and the second
    element is the</code>errors<code>component of the GraphQL response. Either</code>data<code>or</code>errors` may be None.</p>
<p>If the current task was a "save experimental space" task and it successfully completed,
the client's <code>gen</code> attribute is set to zero.</p>
<p>If the current task was a "generate design" task and it successfully completed,
the client's <code>gen</code> attribute is updated to a number greater than zero, and the
design is stored in the client's <code>design</code> attribute.</p>
<p>If either type of task completed or failed, the client's <code>current_task</code> attribute
is reset to None.</p>
<h3 id="daptics_client.DapticsClient.do_auto_task">do_auto_task</h3>

<pre><code class="python">DapticsClient.do_auto_task(self)
</code></pre>

<p>Calls wait_for_current_task if the <code>auto_task_timeout</code> option was set.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>timeout (float)</strong>:
    Maximum number of seconds to wait. If a negative number, wait forever.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>(dict, dict)</code>:
<code>A tuple containing two</code>dicts<code>`: The first element is the</code>currentTask<code>component,
    and the second element is the</code>errors<code>component of the GraphQL response. Either</code>currentTask<code>(for example on timeout) or</code>errors` may be None.</p>
<h3 id="daptics_client.DapticsClient.get_experimental_space">get_experimental_space</h3>

<pre><code class="python">DapticsClient.get_experimental_space(self)
</code></pre>

<p>Utility method to retrieve the validated experimental space from
the session. If the session was restarted and the experimental space
had been previously validated, it will be in the <code>validated_params</code>
attribute, and this method will return it.</p>
<p><strong>Arguments</strong></p>
<p>None</p>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The validated space, a Python dict with <code>type</code>, and <code>table</code> keys, and
    a <code>totalUnits</code> key if the space type is "mixture", or None if
    the space has not been validated.</p>
<h3 id="daptics_client.DapticsClient.get_analytics_file_list">get_analytics_file_list</h3>

<pre><code class="python">DapticsClient.get_analytics_file_list(self, timeout=90)
</code></pre>

<p>Get a list of the available analytics files for the session.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>timeout (int)</strong>:
    The maximum number of seconds that the client will wait for a
    response from the session. The default is 90 seconds.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The JSON response from the gql request, a Python dict with <code>createAnalytics</code> and/or
    <code>errors</code> keys. If there are any files available, they will be returned in the
    <code>createAnalytics</code> value as a Python dict. The <code>createAnalytics</code> dict will have
<code>two keys</code>:</p>
<p><code>gen (int)</code>:
    The current generation number in the session, for which the files were created.</p>
<p><code>files (list)</code>:
    A list of the availiable files. Each file is represented by a Python dict
<code>with the following keys</code>:</p>
<p><code>title (str)</code>:
    The title (description) for the file.</p>
<p><code>filename (str)</code>:
    The default file name that can be passed to the <code>get_analytics_file</code> method.</p>
<p><code>url (str)</code>:
    The public URL from which to fetch the file.</p>
<h3 id="daptics_client.DapticsClient.get_analytics_file">get_analytics_file</h3>

<pre><code class="python">DapticsClient.get_analytics_file(self, url, save_as=None)
</code></pre>

<p>Fetch the contents of an analytics file. Once a URL to a particular analytics file
has been obtained using the <code>get_analytics</code> method, use this method to request the
file's contents over HTTP.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>url (str)</strong>:
    The URL for the file, as returned from <code>get_analytics</code> method.</p>
</li>
<li>
<p><strong>save_as (str)</strong>:
    If supplied, save the file's contents to this file system location.
    The location must be writable by the calling user.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>requests.Response</code>:
    The <code>requests</code> library's <code>response</code> object for the authenticated HTTP request.</p>
<h3 id="daptics_client.DapticsClient.get_all_analytics_files">get_all_analytics_files</h3>

<pre><code class="python">DapticsClient.get_all_analytics_files(self, directory='.', timeout=90)
</code></pre>

<p>For each available analytics file, fetch its contents and save it as a file in the
specified directory.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>directory (str)</strong>:
    If supplied, the target directory to save the files to. If the directory
    does not exist, attempt to create it.</p>
</li>
<li>
<p><strong>timeout (int)</strong>:
    The maximum number of seconds that the client will wait for a
    response from the session. The default is 90 seconds.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>int</code>:
    The number of files created.</p>
<h3 id="daptics_client.DapticsClient.export_csv">export_csv</h3>

<pre><code class="python">DapticsClient.export_csv(self, fname, table, headers=True)
</code></pre>

<p>Utility method to write an expeimental space or experiments table to
a CSV file on disk.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>fname (str)</strong>:
    The filesystem path where the file will be written.</p>
</li>
<li>
<p><strong>table (dict)</strong>:
    A Python dict with <code>colHeaders</code> and <code>data</code> values, representing an
    experimental space or experiments table.</p>
</li>
<li>
<p><strong>headers (bool)</strong>:
    If False, no header row will be written (this is the standard for
    experimental space CSV files). If True, the header row will be
    written to the file.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p>Nothing</p>
<h3 id="daptics_client.DapticsClient.export_experimental_space_csv">export_experimental_space_csv</h3>

<pre><code class="python">DapticsClient.export_experimental_space_csv(self, fname, timeout=300)
</code></pre>

<p>Retrieves the validated experimental space table and writes the table to
a CSV file on disk.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>fname (str)</strong>:
    The filesystem path where the file will be written.</p>
</li>
<li>
<p><strong>timeout (int)</strong>:
    The maximum number of seconds that the client will poll the session
    to retrieve the experimental space. The default is 300 (5 minutes).</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    A Python dict representing the validated experimental space.</p>
<h3 id="daptics_client.DapticsClient.export_initial_experiments_template_csv">export_initial_experiments_template_csv</h3>

<pre><code class="python">DapticsClient.export_initial_experiments_template_csv(self, fname)
</code></pre>

<p>Retrieves the validated experimental space table and writes an
empty initial experiments table to a CSV file on disk.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>fname (str)</strong>:
    The filesystem path where the file will be written.</p>
</li>
<li>
<p><strong>timeout (int)</strong>:
    The maximum number of seconds that the client will poll the session
    to retrieve the experimental space. The default is 300 (5 minutes).</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>list</code>:
    The experiments table header row that was written to disk, as a list of strings.</p>
<h3 id="daptics_client.DapticsClient.export_generated_design_csv">export_generated_design_csv</h3>

<pre><code class="python">DapticsClient.export_generated_design_csv(self, fname, gen=None)
</code></pre>

<p>Retrieves a design generation from the session, and writes the
table (with empty responses) to a CSV file on disk.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>fname (str)</strong>:
    The filesystem path where the file will be written.</p>
</li>
<li>
<p><strong>gen (int)</strong>:
    The generation number for the design to be retrieved.
    If None, retreive the design for the current generation.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    The generated design, a Python dict representing an experiments table
    with empty responses with <code>colHeaders</code>, and <code>data</code> keys.</p>
<h3 id="daptics_client.DapticsClient.export_experiments_history_csv">export_experiments_history_csv</h3>

<pre><code class="python">DapticsClient.export_experiments_history_csv(self, fname)
</code></pre>

<p>Retrieves and returns the experiments and responses for all generations in the session,
and writes them to a summary CSV file on disk. Also updates the <code>experiments_history</code>
attribute in the client.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>fname (str)</strong>:
    The filesystem path where the file will be written.</p>
</li>
<li>
<p><strong>timeout (int)</strong>:
    The maximum number of seconds that the client will poll the session
    to retrieve the generated design. The default is 1800 (30 minutes).</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>list or None</code>:
    The value of the client's <code>experiments_history</code> attribute, which may be
    None if no experiments have been submitted or designed, or is a list of dicts.
    Each item in the list is a Pythoon dict that represents a generation
    (the first item is generation "zero", the initial experiments, etc.) with the
<code>following keys</code>:</p>
<h3 id="daptics_client.DapticsClient.space_table_value_column_name">space_table_value_column_name</h3>

<pre><code class="python">DapticsClient.space_table_value_column_name(self, space_type, i)
</code></pre>

<p>Utility method to format a header column name for in an
experimental space table.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>space_type (str)</strong>:
    "mixture" or "factorial"</p>
</li>
<li>
<p><strong>i (int)</strong>:
    Index of the value column (starting at zero).</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>str</code>:
    "Min" or "Max" for a "mixture" space type, or "Value.1", "Value.2", etc.
    for a "factorial" space type.</p>
<h3 id="daptics_client.DapticsClient.space_table_column_names">space_table_column_names</h3>

<pre><code class="python">DapticsClient.space_table_column_names(self, space)
</code></pre>

<p>Generates the canonically formatted column header names for
the experimental space table.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>space (dict)</strong>:
    A Python dict that defines the experimental space.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>list</code>:
    A list of strings to build the column header for an experimental space.
    The list will contain "Name", "Type", "Min" and "Max" for a "mixture" space,
    or "Name", "Type", "Value.1", "Value.2", etc. for a "factorial" space.</p>
<h3 id="daptics_client.DapticsClient.experiments_table_column_names">experiments_table_column_names</h3>

<pre><code class="python">DapticsClient.experiments_table_column_names(self, space)
</code></pre>

<p>Generates the required header for the experiments table, including the
names of each parameter in the experimental space, and the reserved name
"Response" for the experiment response value.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>space (dict)</strong>:
    A Python dict that defines the experimental space.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>list</code>:
    The list is made up from the names of all parameters, and the additional
    string "Response".</p>
<h3 id="daptics_client.DapticsClient.experiment_with_random_response">experiment_with_random_response</h3>

<pre><code class="python">DapticsClient.experiment_with_random_response(self, experiment, max_response_value)
</code></pre>

<p>Uses a random number generator to generate a numerical response value
in the range [0, n] and then replaces any existing response value with
the generated value.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>experiment (list)</strong>:
    A list of values representing an experiment, including a (possibly
    empty) response value.</p>
</li>
<li>
<p><strong>max_response_value (float)</strong>:
    The maximum random response value to be generated for the experiment.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>list</code>:
    The list of parameter values for the specified experiment, with a generated
    response value. Each value is encoded as a string.</p>
<h3 id="daptics_client.DapticsClient.random_parameter_value">random_parameter_value</h3>

<pre><code class="python">DapticsClient.random_parameter_value(self, space_type, param)
</code></pre>

<p>Uses a random number generator to select a parameter value that is valid
for the space type and specified parameter definition.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>space_type (str)</strong>:
    The space type, either "mixture" or "factorial".</p>
</li>
<li>
<p><strong>param (list)</strong>:
    The row from the experimental space definition table that defines
    a particular parameter in the space (name, type, and min / max or
    allowed values for the parameter). Each element in the list is
    encoded as a string.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>str</code>:
    A valid value for the parameter, encoded as a string.</p>
<h3 id="daptics_client.DapticsClient.random_experiment_for_space">random_experiment_for_space</h3>

<pre><code class="python">DapticsClient.random_experiment_for_space(self, space, max_response_value=None)
</code></pre>

<p>Uses a random number generator to select parameter values and
optionally to create a random response value.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>space (dict)</strong>:
    A Python dict that defines the experimental space.</p>
</li>
<li>
<p><strong>max_response_value </strong>: None or float
    If None, the experiment is generated with an empty response.
    If a number, the response value is a randomly generated number
    in the range [0.0, max_response_value].</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>str</code>:
    A valid value for the parameter, encoded as a string.</p>
<h3 id="daptics_client.DapticsClient.experiments_table_template">experiments_table_template</h3>

<pre><code class="python">DapticsClient.experiments_table_template(self, space)
</code></pre>

<p>Generate the column header for the experiments table, with no data
rows. Can be used to export an empty experiments table template CSV file,
or to submit "empty" initial experiments.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>space (dict)</strong>:
    A Python dict that defines the experimental space.</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    A Python dict with <code>colHeaders</code> and <code>data</code> values, representing an
    empty experiments table.</p>
<h3 id="daptics_client.DapticsClient.random_experiments_with_responses">random_experiments_with_responses</h3>

<pre><code class="python">DapticsClient.random_experiments_with_responses(self, space, design, num_extras=0, max_response_value=5.0)
</code></pre>

<p>Generate an experiments table with where each experiment row
contains a randomly generated response value. The experiment rows
are optionally  composed of "designed" rows and "extra" rows.
The "designed" rows have one experiment row for each row in the
currently generated design. And the "extra" rows contain randomly
generated parameter values as well as responses.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><strong>space (dict)</strong>:
    A Python dict that defines the experimental space.</p>
</li>
<li>
<p><strong>design (dict)</strong>: or None
    If supplied, a Python dict that defines the currently generated
    design as a table. The dict has <code>colHeaders</code> and <code>data</code> keys.</p>
</li>
<li>
<p><strong>num_extras</strong>: int
    If non-zero, generate this number of extra rows. The extra rows
    will be appended to any designed rows.</p>
</li>
<li>
<p><strong>max_response_value </strong>: float
    The maximum value for generated responses. Each genreated response value
    is a randomly generated number in the range [0.0, max_response_value].</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<p><code>dict</code>:
    A Python dict with <code>colHeaders</code> and <code>data</code> values, representing an
    experiments table.</p>
<h2 id="daptics_client.TokenAuth">TokenAuth</h2>

<pre><code class="python">TokenAuth(self)
</code></pre>

<p>A callable authentication object for the Python "requests" moudule.
If acess token is set, add a "Bearer" authorization header to the HTTP request.</p>
<p><strong>Attributes</strong></p>
<ul>
<li><code>token (str)</code>:
    An access token obtained from the API for the authenticated user.</li>
</ul>
<h2 id="daptics_client.DapticsTaskType">DapticsTaskType</h2>

<pre><code class="python">DapticsTaskType(self, /, *args, **kwargs)
</code></pre>

<p>Enumerates the different asynchronous tasks that the daptics system can create and
that can be searched for using the <code>poll_for_current_task</code> or <code>wait_for_current_task</code>
methods.</p>
<p><strong>Attributes</strong></p>
<ul>
<li>
<p><code>SPACE</code>:
    The task type to be searched was created by the <code>put_experimental_parameters</code>
    or <code>put_experimental_parameters_csv</code> methods.</p>
</li>
<li>
<p><code>GENERATE</code>:
    The task type to be searched was created by the <code>generate_design</code> method.</p>
</li>
</ul>
<h2 id="daptics_client.DapticsExperimentsType">DapticsExperimentsType</h2>

<pre><code class="python">DapticsExperimentsType(self, /, *args, **kwargs)
</code></pre>

<p>Enumerates the purpose for the experiments that are being uploaded to the
session via the <code>put_experiments</code> or <code>put_experiments_csv</code> methods.</p>
<p><strong>Attributes</strong></p>
<ul>
<li>
<p><code>INITIAL_EXTRAS_ONLY</code>:
    The experiments submitted are initial experiments. No designed experiments are included.</p>
</li>
<li>
<p><code>DESIGNED_WITH_OPTIONAL_EXTRAS</code>:
    The experiments submitted are designed experiments, and may also include optional
    extra experiments.</p>
</li>
<li>
<p><code>FINAL_EXTRAS_ONLY</code>:
    Not used in current API.</p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../graphql_api/" class="btn btn-neutral" title="GraphQL API"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../graphql_api/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
